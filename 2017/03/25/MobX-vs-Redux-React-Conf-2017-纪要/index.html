<!doctype html><html class="theme-next pisces use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.proxy.ustclug.org/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css"><meta name="keywords" content="MobX,"><link rel="alternate" href="/atom.xml" title="Reducer" type="application/atom+xml"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0"><meta name="description" content="本文首发于知乎 pure render 专栏

毫无疑问，Redux 与 MobX 是 React 生态中最火热的状态管理工具，社区也一直没有停止对上述两者的讨论。近期，团队小伙伴 黄子毅 的文章 Mobx 思想的实现原理，及与 Redux 对比，以及正在与我一起翻译 MobX 中文文档 岳逢楽 同学的 如果用Redux不爽的话，那就试试MobX吧，都对此发表了自己的观点。在不久前结束的 Reac"><meta property="og:type" content="article"><meta property="og:title" content="MobX vs Redux - React Conf 2017 纪要"><meta property="og:url" content="http://blackganglion.com/2017/03/25/MobX-vs-Redux-React-Conf-2017-纪要/index.html"><meta property="og:site_name" content="Reducer"><meta property="og:description" content="本文首发于知乎 pure render 专栏

毫无疑问，Redux 与 MobX 是 React 生态中最火热的状态管理工具，社区也一直没有停止对上述两者的讨论。近期，团队小伙伴 黄子毅 的文章 Mobx 思想的实现原理，及与 Redux 对比，以及正在与我一起翻译 MobX 中文文档 岳逢楽 同学的 如果用Redux不爽的话，那就试试MobX吧，都对此发表了自己的观点。在不久前结束的 Reac"><meta property="og:image" content="http://ol2d3d8nb.bkt.clouddn.com/26-1.jpg"><meta property="og:image" content="http://ol2d3d8nb.bkt.clouddn.com/26-6.png"><meta property="og:image" content="http://ol2d3d8nb.bkt.clouddn.com/26-5.png"><meta property="og:image" content="http://ol2d3d8nb.bkt.clouddn.com/26-4.png"><meta property="og:image" content="http://ol2d3d8nb.bkt.clouddn.com/26-3.png"><meta property="og:image" content="http://ol2d3d8nb.bkt.clouddn.com/26-2.png"><meta property="og:updated_time" content="2017-03-31T17:42:08.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="MobX vs Redux - React Conf 2017 纪要"><meta name="twitter:description" content="本文首发于知乎 pure render 专栏

毫无疑问，Redux 与 MobX 是 React 生态中最火热的状态管理工具，社区也一直没有停止对上述两者的讨论。近期，团队小伙伴 黄子毅 的文章 Mobx 思想的实现原理，及与 Redux 对比，以及正在与我一起翻译 MobX 中文文档 岳逢楽 同学的 如果用Redux不爽的话，那就试试MobX吧，都对此发表了自己的观点。在不久前结束的 Reac"><meta name="twitter:image" content="http://ol2d3d8nb.bkt.clouddn.com/26-1.jpg"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Pisces",sidebar:{position:"right",display:"post",offset:12,offset_float:0,b2t:!1,scrollpercent:!1},fancybox:!0,motion:!0,duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://blackganglion.com/2017/03/25/MobX-vs-Redux-React-Conf-2017-纪要/"><title>MobX vs Redux - React Conf 2017 纪要 | Reducer</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?27ecee01e57d9d4442dc1768d4dcce4a";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><div class="container sidebar-position-right page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Reducer</span><span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">Where there is a will, there is a way.</p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://blackganglion.com/2017/03/25/MobX-vs-Redux-React-Conf-2017-纪要/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="淡苍"><meta itemprop="description" content=""><meta itemprop="image" content="http://ol2d3d8nb.bkt.clouddn.com/fly.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Reducer"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">MobX vs Redux - React Conf 2017 纪要</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-25T18:07:00+08:00">2017-03-25</time></span> <span class="post-category"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/React全家桶/" itemprop="url" rel="index"><span itemprop="name">React全家桶</span></a></span></span> <span class="post-comments-count"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i></span><a class="cloud-tie-join-count" href="/2017/03/25/MobX-vs-Redux-React-Conf-2017-纪要/#comments" itemprop="discussionUrl"><span class="post-comments-count join-count" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p><strong>本文首发于知乎 <a href="https://zhuanlan.zhihu.com/purerender" target="_blank" rel="external">pure render</a> 专栏</strong></p><p><img src="http://ol2d3d8nb.bkt.clouddn.com/26-1.jpg" alt="26-1"></p><p>毫无疑问，Redux 与 MobX 是 React 生态中最火热的状态管理工具，社区也一直没有停止对上述两者的讨论。近期，团队小伙伴 黄子毅 的文章 <a href="https://zhuanlan.zhihu.com/p/25585910" target="_blank" rel="external">Mobx 思想的实现原理</a>，及与 Redux 对比，以及正在与我一起翻译 <a href="https://suprise.gitbooks.io/mobx-cn/content/fp.html" target="_blank" rel="external">MobX 中文文档</a> 岳逢楽 同学的 <a href="https://zhuanlan.zhihu.com/p/25722002" target="_blank" rel="external">如果用Redux不爽的话，那就试试MobX吧</a>，都对此发表了自己的观点。在不久前结束的 React Conf 2017 中，Preethi Kasireddy 也做了相关分享，<a href="MobX vs Redux: Comparing the Opposing Paradigms">MobX vs Redux: Comparing the Opposing Paradigms</a>，让我们来看看她的观点是怎样的。</p><a id="more"></a><h2 id="状态管理上的异同"><a href="#状态管理上的异同" class="headerlink" title="状态管理上的异同"></a>状态管理上的异同</h2><p>Redux / MobX 均为客户端开源状态管理库，用状态来描述 UI 界面，它们与 React 都不具有强绑定关系，你也可以配合别的框架来使用它们。当然，与 React 是再合适不过的了，React 作为 View 层的框架，通过 Virtual DOM 机制来优化 UI 渲染，Redux / MobX 则提供了将相应状态同步到 React 的机制。</p><p><img src="http://ol2d3d8nb.bkt.clouddn.com/26-6.png" alt="26-6"></p><p>Redux 是 Flux 体系很好的衍生。Flux 具有单向数据流的特点，View 层通过触发注册过 dispatcher 的 action，后由 dispatcher 更新相应的 store。同样 Redux 也具有单向数据流的特点和在 View 层触发 action，但与 Flux 不同的是，Flux 可以具有多个 store，而 Redux store 是单一数据源。Redux 没有 dispatcher 的概念，转而使用纯函数（pure function）代替。Redux store 是不可变的（Immutable）。</p><p><img src="http://ol2d3d8nb.bkt.clouddn.com/26-5.png" alt="26-5"></p><p>MobX 类似于 Excel 电子表格，你的数据存放在单元格中，是 observable 的。在 MobX 中具有两种 derivation，一种是 computed value，它是纯函数，相当于 Excel 中的公式，依赖于 observable 数据产生。另一种是 reactions，不同于 computed value 产生新的值，它主要处理副作用（side effect），相当于得到 Excel 公式的结果后，把它们显示在屏幕上。</p><p><img src="http://ol2d3d8nb.bkt.clouddn.com/26-4.png" alt="26-4"></p><p>Redux 与 MobX 的不同主要集中于以下几点：</p><ul><li>Redux 是单一数据源，而 MobX 往往是多个 store。MobX 可以根据应用的 UI、数据或业务逻辑来组织 store，具体如何进行需要你自己进行权衡。</li><li>Redux store 使用普通的 JavaScript 对象结构，MobX 将常规 JavaScript 对象包裹，赋予 observable 的能力，通过隐式订阅，自动跟踪 observable 的变化。MobX 是观察引用的，在跟踪函数中（例如：computed value、reactions等等），任何被引用的 observable 的属性都会被记录，一旦引用改变，MobX 将作出反应。注意，不在跟踪函数中的属性将不会被跟踪，在异步中访问的属性也不会被跟踪。</li><li>Redux 的 state 是只读的，只能通过将之前的 state 与触发的 action 结合，产生新的 state，因此是纯净的（pure）。而 MobX 的 state 即可读又可写，action 是非必须的，可以直接赋值改变，因此是不纯净的（Impure）。</li><li>Redux 需要你去规范化你的 state，Immutable 数据使 Reducer 在更新时需要将状态树的祖先数据进行复制和更新，新的对象会导致与之 connect 的所有 UI 组件都重复渲染。因此Redux state 不建议进行深层嵌套，或者需要我们在组件中用 shouldComponentUpdate 优化。而 MobX 只自动更新你所关心的，不必担心嵌套带来的重渲染问题。</li><li>在 Redux 中区分有 smart 组件与 dumb 组件，dumb 负责展示，smart 负责状态更新，数据获取。而在 MobX 中无需区分，都是 smart，当组件自身依赖的 observable 发生变化时，会作出响应。</li></ul><h2 id="两者之争"><a href="#两者之争" class="headerlink" title="两者之争"></a>两者之争</h2><p><img src="http://ol2d3d8nb.bkt.clouddn.com/26-3.png" alt="26-3"></p><p>从<strong>学习成本</strong>上而言，MobX 是常见的 OO 范式，与 Redux 基于函数式的理论相对比不具有新的概念，对于深入传统面向对象的程序员而言，更为友好。MobX 是 magic 的，通过 computed value、observer class、autorun function 对于 View 层的输入逻辑进行了抽象，我们只需要在 View 层对相应的 observale 数据进行访问即可完成自动变更。Redux 尽管源码简洁，30 分钟即可读完，但一旦开始构建复杂的应用，你就需要开始考虑如何规范化你的 state，如何使用可记忆的 selector 函数（connent 中 mapStateToProps 中对数据的衍生），如何更好地处理异步等等。</p><p>从<strong>代码量</strong>而言，MobX 由于内置抽象，需要写的代码比 Redux 少了很多。对于一个简单变更状态的操纵而言，Redux 需要写 action，在 View 层调用 action，根据相应 action type，写对应 reducer，MobX 只需要简单一行即可搞定。</p><p>从<strong>可调试性</strong>、<strong>可预测性</strong>和<strong>可测试性</strong>上而言， Redux 均优于 MobX。Redux 是简洁、纯净的，能够进行时间回溯，从 state -&gt; view -&gt; action -&gt; reducer 形成单向闭环，使可调试性和可预测性较好，而对于 action 和 reducer 均可单独测试。而 MobX 内部较复杂，同时为了代码的简洁，可在 View 层直接对 observable 对象进行操作，会使发现问题变得困难。正因如此，MobX 提供了 useStrict 进行限制，只能通过 action 来修改 state。另外 Redux devtool 的完善性和体验也要好于 MobX devtool。</p><p>从<strong>模块化</strong>的角度来看，MobX 的 store 是分散的，可以用于封装相应的业务逻辑，Redux 是单一 store，全局共享，没有所谓的模块化，最多只是一些拆分。对于你的组件而言，你需要去共享 state 时，单一数据源便是好的。当你的应用复杂后，对于 MobX 分散 store 间的协调、分享数据、相互引用就会很复杂。</p><p>在<strong>可扩展性</strong>和<strong>可维护性</strong>方面，Redux 的所有修改会被集中化处理，严格按照一个接着一个的顺序执行，不需要担心竞态的出现。而 MobX 无法保证严格的顺序执行，改变可以发生在各个地方，随着时间的推移，应用可能会出现维护问题。</p><p>而在<strong>社区</strong>方面，Redux 取得完胜。</p><h2 id="如何选择"><a href="#如何选择" class="headerlink" title="如何选择"></a>如何选择</h2><p>最初我们是使用 React API setState 来维持组件状态，但伴随应用越来越复杂，内部 state 的管理也变随着复杂，组件间需要共享 state，只能提升到父级。遥远的叶子节点需要 state，必须从父级逐层传递，中间的组件将出现 props 冗余。这时就需要 Redux / MobX 将组件内部的状态都抽离出来，做统一管理。</p><p>Preethi Kasireddy 认为需要快速开发简单应用的小团队可以考虑使用 MobX，因为 MobX 需要开发的代码量小，学习成本低，上手快，适合于实时系统，仪表盘，文本编辑器，演示软件，但不适用于基于事件的系统。</p><p>而 Redux 适用于大团队开发复杂应用，Redux 在可扩展性和可维护性方面可以 hold 住多人协作与业务需求多变，适合商业系统、基于事件的系统以及涉及复杂反应的游戏场景。</p><p>Redux 对 action / event 作出反应，而 MobX 对 state 变化作出反应。在更新逻辑方面，MobX 是在 store 内进行相应封装，假设一个 UI 操作需要更新多个 store 内的值时，那么我们需要多次触发对应 action，或者在多个 store 上再添加一个 store 去进行控制，这都不如 Redux 来得优雅，Redux 只需要触发一个 action，多个 reducer 可响应相同的 action type，即可完成更新。</p><p><img src="http://ol2d3d8nb.bkt.clouddn.com/26-2.png" alt="26-2"></p><p>最后，Preethi Kasireddy 结合了 Redux 的优势（纯净的 reducer 与 Immutable store）与 MobX 的优势（响应式），提出是否有 reducer 与 observable 相结合的可能，很有意思。</p><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>在我看来，Redux 崇尚自由，小而美，在框架层面给予了开发者很大的空间，比如可以利用 middleware 机制去抽象业务逻辑。激发了大家造轮子的热情的同时，也引发了“全家桶”的吐槽，光异步请求就有 thunk、saga 等多种解决方案，令后来的开发者眼花缭乱。</p><p>MobX 则相对封闭，性能优势与代码量小，无法掩盖最佳实践的缺失。store 应该如何更好地组织？store 间通讯应该如何较好地处理？如何去做一些通用的抽象，比如 store 的复用？都需要我们去一一解决。</p><p>正如 Preethi Kasireddy 在演讲最后提到的，Redux 或是 MobX 的选择并不会意味着结束，或者说在现阶段下二者都有欠缺。一方面，我们可以通过封装 Redux 去降低开发成本，来适用自己的业务场景，提高工程效率，比如蚂蚁的dva，或是我所在团队即将开源的框架。亦或我们可以取长补短，MobX 胜在响应式带来的性能提高，避免不必要的重渲染，如果能与 Redux 的 middleware、reducer 结合，将会非常值得期待。</p></div><div></div><div></div><div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/MobX/" rel="tag"># MobX</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2017/02/08/Recharts-With-HTML-Email/" rel="next" title="Recharts With HTML Email"><i class="fa fa-chevron-left"></i> Recharts With HTML Email</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"></div></div></footer></article><div class="post-spread"></div></div></div><div class="comments" id="comments"><div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview">站点概览</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="http://ol2d3d8nb.bkt.clouddn.com/fly.jpg" alt="淡苍"><p class="site-author-name" itemprop="name">淡苍</p><p class="site-description motion-element" itemprop="description">在寻找大神的路上让自己成为大神</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">27</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">10</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">19</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/BlackGanglion" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/BlackGanglion" target="_blank" title="微博"><i class="fa fa-fw fa-weibo"></i> 微博</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/BlackGanglion" target="_blank" title="知乎"><i class="fa fa-fw fa-globe"></i> 知乎</a></span></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#状态管理上的异同"><span class="nav-number">1.</span> <span class="nav-text">状态管理上的异同</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#两者之争"><span class="nav-number">2.</span> <span class="nav-text">两者之争</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#如何选择"><span class="nav-number">3.</span> <span class="nav-text">如何选择</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#后记"><span class="nav-number">4.</span> <span class="nav-text">后记</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; 2015 - <span itemprop="copyrightYear">2017</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">淡苍</span></div><div class="powered-by">由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div><div class="theme-info">主题 - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script><script>var cloudTieConfig={url:document.location.href,sourceId:"",productKey:"1731a0e2bd524856adb80de9dc9d1426",target:"cloud-tie-wrapper"}</script><script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script><script>!function(){var t=document.createElement("script"),s=window.location.protocol.split(":")[0];"https"===s?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="http://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });</script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>